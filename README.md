# REST API для News Explorer

Это backend для сервиса News Explorer:
https://github.com/BerezinKonstantin/news-explorer-frontend

Эта часть проекта представляет собой API для регистрации, аутентификации пользователей и сохранения статей.

## Используемые технологии

- Node.js
- Express
- MongoDB
- Postman (тестирование)

## Используемые модули:
Защита приложения:
- rateLimit
- helmet  

Шифрование данных:  
- jsonwebtoken
- bcryptjs  

Валидация данных:  
- validator
- celebrate / joi  

Вспомогательные:  
- body-parser
- dotenv
- winston

## Функциональность

### Запросы к API:

- Для начала работы, неободимо пройти регистрацию пользователя и аутентификацию.
Все передаваемые данные проходят валидацию на соответствие (корректность email, имя долдно быть не менее 2-х символов, пароль не менее 8-ми).

**POST /signup**

Регистрация нового пользователя. В теле POST-запроса передаётся JSON-объект с именем пользователя, адресом электронной почты, паролем:
```json
{
  "name": "Имя",
  "email": "test@mail.ru",
  "password": "00000000",
}
```
**POST /signin**

Авторизация пользователя после регистрации. В теле POST-запроса передаётся JSON-объект с информацией указанной при регистрации:
```json
{
  "email": "test@mail.ru",
  "password": "00000000",
}
```
- Для зарегистрированного пользователя появляется
возможность взаимодействия с базой данных такими запросами:

**GET /users/me**  
Возвращает информацию о пользователе (email и имя)

**GET /articles**  
Возвращает все сохранённые пользователем статьи

**POST /articles**  
Добавляет статью. В теле POST-запроса необходимо передать JSON-объект со следующими данными: keyword - клюевое слово для поиска, title - заголовок статьи, text - текст статьи, date - дата создания, source - источник статьи, link - ссылка на статью и image - картинка к статье.

Все передаваемые данные проходят валидацию на соответствие (корректность URL, все параметры обязательны к передаче).

```json
{
  "keyword": "Политика",
  "title": "Заголовок",
  "text": "Текст статьи",
  "date": "24.06.2020",
  "source": "Медуза",
  "link": "https://meduza.ru/some-article.html",
  "image": "https://cdn25.img.ru/images/something221133.jpg"
}
```

**DELETE /articles/articleId**  
Удаляет сохранённую статью по переданному _id

## Локальная установка
Для работы с проектом вам понадобятся NodeJS, MongoDB, Postman (или другой способ отправлять запросы).

1. Клонировать или скачать репозиторий

        git clone https://github.com/BerezinKonstantin/news-explorer-api
        cd news-explorer-api

2. Установить необходимые зависимости.  

        npm i

3. Запуск MongoDB.  

        mongod

## Запуск проекта

1. Запустить сервер  

        npm run start

2. Запустить сервер с hot-reload

        npm run dev

Проект работает с MongoDB, по умолчанию подключение к базе данных происходит по адресу:

_mongodb://localhost:27017/news_

Локальный сервер доступен по адресу http://localhost:3001.
